---
type IconType = 'delivery-truck' | 'location' | 'clipboard' | 'money' | 'same-day' | 'invoice';

export interface Props {
    icon: IconType;
    title: string;
    description: string;
}

const { icon, title, description } = Astro.props;

const iconMap: Record<IconType, string> = {
    'delivery-truck': `
    <svg viewBox="0 0 64 64" class="w-full h-full text-primary-500" fill="currentColor">
      <rect x="8" y="24" width="32" height="16" rx="2" fill="currentColor"/>
      <rect x="40" y="28" width="16" height="12" rx="2" fill="currentColor"/>
      <circle cx="20" cy="48" r="6" fill="currentColor"/>
      <circle cx="48" cy="48" r="6" fill="currentColor"/>
      <rect x="16" y="20" width="8" height="4" rx="1" fill="white"/>
      <rect x="28" y="20" width="8" height="4" rx="1" fill="white"/>
    </svg>
  `,
    'location': `
    <svg viewBox="0 0 64 64" class="w-full h-full text-primary-500" fill="currentColor">
      <path d="M32 8C22.6 8 15 15.6 15 25c0 14.2 17 31 17 31s17-16.8 17-31c0-9.4-7.6-17-17-17zm0 23c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"/>
    </svg>
  `,
    'clipboard': `
    <svg viewBox="0 0 64 64" class="w-full h-full text-primary-500" fill="currentColor">
      <rect x="16" y="12" width="32" height="44" rx="3" fill="currentColor"/>
      <rect x="20" y="8" width="24" height="8" rx="2" fill="white"/>
      <rect x="22" y="24" width="20" height="2" rx="1" fill="white"/>
      <rect x="22" y="30" width="16" height="2" rx="1" fill="white"/>
      <rect x="22" y="36" width="12" height="2" rx="1" fill="white"/>
      <circle cx="26" cy="42" r="2" fill="white"/>
      <rect x="30" y="41" width="8" height="2" rx="1" fill="white"/>
    </svg>
  `,
    'money': `
    <svg viewBox="0 0 64 64" class="w-full h-full text-primary-500" fill="currentColor">
      <circle cx="32" cy="32" r="24" fill="currentColor"/>
      <path d="M32 18v4c-4 0-8 2-8 6s4 6 8 6c2 0 4 1 4 3s-2 3-4 3v4m0-26v4m0 18v4" stroke="white" stroke-width="3" fill="none"/>
    </svg>
  `,
    'same-day': `
    <svg viewBox="0 0 64 64" class="w-full h-full text-primary-500" fill="currentColor">
      <circle cx="32" cy="32" r="24" fill="currentColor"/>
      <path d="M32 16v16l11 7" stroke="white" stroke-width="3" stroke-linecap="round" fill="none"/>
      <circle cx="32" cy="32" r="2" fill="white"/>
    </svg>
  `,
    'invoice': `
    <svg viewBox="0 0 64 64" class="w-full h-full text-primary-500" fill="currentColor">
      <rect x="18" y="8" width="28" height="48" rx="2" fill="currentColor"/>
      <rect x="22" y="16" width="20" height="2" rx="1" fill="white"/>
      <rect x="22" y="22" width="16" height="2" rx="1" fill="white"/>
      <rect x="22" y="28" width="18" height="2" rx="1" fill="white"/>
      <rect x="22" y="34" width="14" height="2" rx="1" fill="white"/>
      <rect x="22" y="42" width="20" height="8" rx="1" fill="white"/>
    </svg>
  `
};

const getIconSvg = (iconName: IconType): string => {
    return iconMap[iconName] || '';
};
---

<div class="text-center group">
    <!-- Icon Circle -->
    <div class="w-24 h-24 mx-auto mb-6 relative">
        <div class="w-full h-full bg-white rounded-full shadow-lg flex items-center justify-center group-hover:shadow-xl transition-all duration-300 transform group-hover:-translate-y-1">
            <div class="w-16 h-16" set:html={getIconSvg(icon)} />
        </div>
        <!-- Checkmark overlay -->
        <div class="absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
            </svg>
        </div>
    </div>

    <!-- Content -->
    <div class="space-y-3">
        <h3 class="text-lg font-bold text-secondary-900 group-hover:text-primary-600 transition-colors">
            {title}
        </h3>
        <p class="text-secondary-600 text-sm leading-relaxed max-w-xs mx-auto">
            {description}
        </p>
    </div>
</div>